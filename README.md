# ブログ記事インポート・エクスポート Plug-in for MovableType 5
* Author:: Yuichi Takeuchi <uzuki05@takeyu-web.com>
* Website:: [http://takeyu-web.com/](http://takeyu-web.com/)
* Copyright:: Copyright 2013 Yuichi Takeuchi
* License:: MIT-License

ブログ記事単位のインポート・エクスポート機能を提供します。

![ブログ記事インポート・エクスポート](https://f.cloud.github.com/assets/60980/235657/110d9b28-87b7-11e2-8be9-211f47798c43.png)

カテゴリ、記事アイテムにも対応しています。

+ カテゴリ･･･階層構造、メインカテゴリの選択を維持（移転先に存在しない場合は、階層構造を維持して復元）
+ 記事アイテム･･･ブログ記事に関連付けられたアイテムをエクスポートし、インポート先のブログ記事アイテムとして自動登録します。
  + アイテムに子アイテムが存在する場合は、子アイテムもエクスポート（記事中に埋め込まれたサムネイルなど）
  + 本文、追記中に含まれるアイテムURLの自動書き換え

## 動作（するかもしれない）環境

+ MovableType/MTOS 5.0以上
+ 以下のPerlモジュールが必要
  + Archive::Zip
  + YAML::Syck


## 使い方

### インストール

plugins/EntryExporter を MovableType がインストールされたディレクトリの plugins ディレクトリ内にアップロードして下さい。

その後システムのプラグイン一覧に「Entry Exporter」が追加されていたらOKです。

### エクスポート

エクスポートしたいブログ記事を一覧から選んで、プラグインアクション「ブログ記事のエクスポート」。
エクスポート完了後、自動的にZipアーカイブのダウンロードが開始されます。（件数や画像の枚数などによっては時間がかかります）

### インポート

インポートしたいブログの記事一覧リストの上に表示される「ブログ記事のインポート」から、インポートしたいZipアーカイブをアップロード。

## うまくいかないとき

### サーバーがタイムアウトする

少しずつエクスポートするか、WebサーバーのCGIタイムアウト値を一時的に大きくしてください。よくわかんない人は諦めて下さい。

気が向いたらコマンドラインでのインポート・エクスポートもやりたいですが、面倒なのであまり期待しないで下さい。え？その意味もわからない？悪いことは言わないから諦めて下さい。

### 「ブログ記事間の関連を追加する」ようなプラグインの、関連が維持されない

本エクスポート機能では、他のプラグインで追加された「関連」は対応できません。
（PowerCMSのオブジェクトを関連付けるカスタムフィールドとか）

対応の予定もありません。

## ご注意

* 無保証です。このプラグインを使用したことでいかなる損害が発生しても、制作者（竹内雄一）は一切責任を負いません。
